(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{N7YL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("lJxs"),a=n("AytR"),o=n("fXoL"),i=n("tk/3");let r=(()=>{class e{constructor(e){this._http=e,this.conversations=[],this.getMessagesGroups$=()=>this._http.get(`${a.a.API_URL}`).pipe(Object(s.a)(e=>e.messages)),this.getMessagesPage$=(e,t=0)=>this._http.get(`${a.a.API_URL}`).pipe(e=>e.messages),this.addMessage=(e,t)=>{t.messages.push({creationDate:(new Date).getTime(),content:e}),this.conversations.some(e=>e.user.name===t.user.name)||this.conversations.unshift(t)},this.getMessagesGroups$().subscribe(e=>this.conversations=e)}get hasNewReceived(){return this.conversations.some(e=>e.messages.some(e=>!e.readDate&&e.isResponse))}get hasUserVisitedMessages(){return this.conversations.some(e=>!e.viewDate)}markAsRead(e){e.messages.filter(e=>!e.readDate).forEach(e=>e.readDate=(new Date).getTime())}getConversationBy(e){const t=this._existingConversationBy(e);return!!t&&t||this._newConversationBy(e)}_existingConversationBy(e){return this.conversations.find(t=>t.user.name===e)}_newConversationBy(e){return{user:{name:e},messages:[],viewDate:(new Date).getTime()}}}return e.\u0275fac=function(t){return new(t||e)(o.Ub(i.a))},e.\u0275prov=o.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},hO9l:function(e,t,n){"use strict";n.r(t),n.d(t,"TabsPageModule",(function(){return h}));var s=n("TEn/"),a=n("ofXK"),o=n("3Pt+"),i=n("tyNb"),r=n("N7YL"),c=n("fXoL");function b(e,t){1&e&&c.Mb(0,"ion-badge",12)}const l=[{path:"",component:(()=>{class e{constructor(e){this._messagesService=e}get hasUserVisitedMessages(){return this._messagesService.hasUserVisitedMessages}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(r.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-tabs"]],decls:23,vars:1,consts:[["slot","bottom"],["tab","jarmark"],["name","leaf-outline"],["tab","szukaj"],["name","search-outline"],["tab","koszyk"],["name","basket-outline"],["tab","wiadomosci"],["name","chatbox-outline"],["color","success",4,"ngIf"],["tab","profil"],["name","person-circle-outline"],["color","success"]],template:function(e,t){1&e&&(c.Qb(0,"ion-tabs"),c.Qb(1,"ion-tab-bar",0),c.Qb(2,"ion-tab-button",1),c.Mb(3,"ion-icon",2),c.Qb(4,"ion-label"),c.pc(5,"Jarmark"),c.Pb(),c.Pb(),c.Qb(6,"ion-tab-button",3),c.Mb(7,"ion-icon",4),c.Qb(8,"ion-label"),c.pc(9,"Szukaj"),c.Pb(),c.Pb(),c.Qb(10,"ion-tab-button",5),c.Mb(11,"ion-icon",6),c.Qb(12,"ion-label"),c.pc(13,"Koszyk"),c.Pb(),c.Pb(),c.Qb(14,"ion-tab-button",7),c.Mb(15,"ion-icon",8),c.Qb(16,"ion-label"),c.pc(17,"Wiadomo\u015bci"),c.Pb(),c.nc(18,b,1,0,"ion-badge",9),c.Pb(),c.Qb(19,"ion-tab-button",10),c.Mb(20,"ion-icon",11),c.Qb(21,"ion-label"),c.pc(22,"Profil"),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.zb(18),c.gc("ngIf",t.hasUserVisitedMessages))},directives:[s.A,s.y,s.z,s.m,s.q,a.k,s.e],styles:[".tab-selected[_ngcontent-%COMP%], ion-tab-button[_ngcontent-%COMP%]:hover{color:green}.basket-products-number[_ngcontent-%COMP%]{font-size:smaller;padding:4px;margin-top:-5px}"]}),e})(),children:[{path:"",redirectTo:"jarmark",pathMatch:"full"},{path:"jarmark",loadChildren:()=>Promise.all([n.e(1),n.e(0),n.e(19)]).then(n.bind(null,"qkvE")).then(e=>e.MarketPageModule)},{path:"koszyk",loadChildren:()=>Promise.all([n.e(1),n.e(0),n.e(18)]).then(n.bind(null,"SCLQ")).then(e=>e.BasketModule)},{path:"szukaj",loadChildren:()=>Promise.all([n.e(1),n.e(0),n.e(25)]).then(n.bind(null,"RmqX")).then(e=>e.SearchModule)},{path:"profil",loadChildren:()=>n.e(24).then(n.bind(null,"cRhG")).then(e=>e.ProfileModule)},{path:"wiadomosci",loadChildren:()=>Promise.all([n.e(1),n.e(20)]).then(n.bind(null,"TdLt")).then(e=>e.MessagesModule)}]},{path:"",redirectTo:"zakladki/jarmark",pathMatch:"full"}];let u=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[i.j.forChild(l)],i.j]}),e})(),h=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[s.F,a.b,o.a,u]]}),e})()}}]);