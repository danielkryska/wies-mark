<ion-list lines="none">
    <ion-item class="supplier">
        <ion-label><p><small>{{ supplier.name }}</small></p></ion-label>
        <ion-checkbox 
            *ngIf="!isSummary" 
            checked 
            slot="start"
            [ngModel]="anyProductInBasket"
            (ionChange)="toggleProducts($event.target.checked)"
        ></ion-checkbox>
    </ion-item>

    <ng-container *ngFor="let product of supplier.products">
        <app-basket-product
            *ngIf="product.product.inBasket && isSummary || !isSummary"
            [product]="product"
            [isSummary]="isSummary"
        ></app-basket-product>
    </ng-container>

    <ng-container *ngIf="isSummary; else otherOfSupplier">
        <ion-item class="supplier-action-btn">
            <a href="javascript:void(0)" (click)="openMessageDialog()">
                <small>Wyślij wiadomość (opcjonalne)</small>
            </a>
        </ion-item>
        <ion-item *ngIf="!!supplier.deliveryType" class="supplier-action-btn">
            <ion-label>
                <span>{{ supplier.deliveryType.label }}</span>
                <p>{{ supplier.deliveryType.price | currency:supplier.deliveryType.currency:'symbol-narrow':'1.2' }}</p>
            </ion-label>
        </ion-item>
        <ion-item class="supplier-action-btn" (click)="chooseDeliveryType()">
            <a href="javascript:void(0)">
                <small>Wybierz typ dostawy</small>
            </a>
        </ion-item>
    </ng-container>

    <ng-template #otherOfSupplier>
        <ion-item class="supplier-action-btn">
            <a href="javascript:void(0)" (click)="searchForSupplierProducts()">
                <small>Inne produkty sprzedającego</small>
            </a>
        </ion-item>
    </ng-template>
</ion-list>